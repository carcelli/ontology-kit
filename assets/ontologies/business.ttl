@prefix : <http://agent_kit.io/business#> .
@prefix core: <http://agent_kit.io/ontology#> .
@prefix ns1: <http://example.com/business_ontology#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

: a owl:Ontology ;
    rdfs:label "Agent Kit Business Ontology" ;
    rdfs:comment "Ontology for ML-driven small business optimization: entities, relations, leverage points for revenue and efficiency improvements." ;
    owl:imports core: ;
    owl:versionInfo "0.1.0" .

:ARIMAModel_Revenue a :ForecastModel ;
    rdfs:label "ARIMA Revenue Forecast" ;
    :hasAccuracyScore 0.89 ;
    :hasModelType "ARIMA(2,1,2)" ;
    :predicts :TimeSeries_Revenue ;
    core:hasDescription "Seasonal ARIMA model for revenue prediction" .

:Insight_ClientSegmentation a :Insight ;
    rdfs:label "High-Value Restaurant Segment" ;
    :informs :EmailCampaign_Spring ;
    core:hasConfidence 0.91 ;
    core:hasDescription "Restaurants with >$100K annual spend respond 3x better to morning emails" .

:Lever_EmailOptimization a :LeveragePoint ;
    rdfs:label "Email Timing Optimization" ;
    :affects :SunshineBakery ;
    :hasExpectedImpact 1.25 ;
    :hasPriority 1 ;
    core:hasCost 500.0 ;
    core:hasDescription "Optimize email send times based on open rate analysis (ROI: 1.25x)" .

:Optimization a owl:Class ;
    rdfs:label "Optimization" ;
    rdfs:comment "Process of improving business metrics (revenue, efficiency) via interventions." ;
    rdfs:subClassOf core:Action .

:Revenue_Q12025 a :RevenueStream ;
    rdfs:label "Q1 2025 Revenue" ;
    :generatedBy :Client001 ;
    :hasAmount 32000.0 ;
    :hasForecastConfidence 0.87 ;
    core:hasDescription "First quarter revenue from Client001" .

:affects a owl:ObjectProperty ;
    rdfs:label "affects" ;
    rdfs:comment "Leverage point impacts business metric (revenue, efficiency)." ;
    rdfs:domain :LeveragePoint ;
    rdfs:range :Business .

:belongsTo a owl:ObjectProperty ;
    rdfs:label "belongs to" ;
    rdfs:comment "Time-series data owned by or associated with business." ;
    rdfs:domain :TimeSeries ;
    rdfs:range :Business .

:derivedFrom a owl:ObjectProperty ;
    rdfs:label "derived from" ;
    rdfs:comment "Insight extracted from dataset or analysis." ;
    rdfs:domain :Insight ;
    rdfs:range :Dataset .

:engagedBy a owl:ObjectProperty ;
    rdfs:label "engaged by" ;
    rdfs:comment "Client interacted with via campaign." ;
    rdfs:domain :Client ;
    rdfs:range :OutreachCampaign .

:generatedBy a owl:ObjectProperty ;
    rdfs:label "generated by" ;
    rdfs:comment "Revenue stream originates from client (inverse of generates)." ;
    rdfs:domain :RevenueStream ;
    rdfs:range :Client ;
    owl:inverseOf :generates .

:hasAccuracyScore a owl:DatatypeProperty ;
    rdfs:label "has accuracy score" ;
    rdfs:comment "Model accuracy (MAPE, RMSE, RÂ²)." ;
    rdfs:domain :ForecastModel ;
    rdfs:range xsd:float .

:hasAcquisitionDate a owl:DatatypeProperty ;
    rdfs:label "has acquisition date" ;
    rdfs:comment "Date client was acquired." ;
    rdfs:domain :Client ;
    rdfs:range xsd:date .

:hasAmount a owl:DatatypeProperty ;
    rdfs:label "has amount" ;
    rdfs:comment "Revenue amount in USD for period." ;
    rdfs:domain :RevenueStream ;
    rdfs:range xsd:float .

:hasBudget a owl:DatatypeProperty ;
    rdfs:label "has budget" ;
    rdfs:comment "Campaign budget in USD." ;
    rdfs:domain :OutreachCampaign ;
    rdfs:range xsd:float .

:hasConversionRate a owl:DatatypeProperty ;
    rdfs:label "has conversion rate" ;
    rdfs:comment "Percentage of targets converted to clients." ;
    rdfs:domain :OutreachCampaign ;
    rdfs:range xsd:float .

:hasEmployeeCount a owl:DatatypeProperty ;
    rdfs:label "has employee count" ;
    rdfs:comment "Number of employees." ;
    rdfs:domain :Business ;
    rdfs:range xsd:integer .

:hasExpectedImpact a owl:DatatypeProperty ;
    rdfs:label "has expected impact" ;
    rdfs:comment "Expected ROI or percentage change in target metric." ;
    rdfs:domain :LeveragePoint ;
    rdfs:range xsd:float .

:hasForecastConfidence a owl:DatatypeProperty ;
    rdfs:label "has forecast confidence" ;
    rdfs:comment "Confidence score (0-1) for forecast." ;
    rdfs:domain :RevenueStream ;
    rdfs:range xsd:float .

:hasIndustry a owl:DatatypeProperty ;
    rdfs:label "has industry" ;
    rdfs:comment "Industry classification (e.g., Bakery, Cafe, Retail)." ;
    rdfs:domain :Business ;
    rdfs:range xsd:string .

:hasLifetimeValue a owl:DatatypeProperty ;
    rdfs:label "has lifetime value" ;
    rdfs:comment "Customer lifetime value (CLV) in USD." ;
    rdfs:domain :Client ;
    rdfs:range xsd:float .

:hasLocation a owl:DatatypeProperty ;
    rdfs:label "has location" ;
    rdfs:comment "Geographic location (city, state)." ;
    rdfs:domain :Business ;
    rdfs:range xsd:string .

:hasModelType a owl:DatatypeProperty ;
    rdfs:label "has model type" ;
    rdfs:comment "Type of model (ARIMA, Prophet, NeuralNet)." ;
    rdfs:domain :ForecastModel ;
    rdfs:range xsd:string .

:hasPriority a owl:DatatypeProperty ;
    rdfs:label "has priority" ;
    rdfs:comment "Priority rank (1=highest)." ;
    rdfs:domain :LeveragePoint ;
    rdfs:range xsd:integer .

:hasRevenue a owl:DatatypeProperty ;
    rdfs:label "has revenue" ;
    rdfs:comment "Annual revenue in USD." ;
    rdfs:domain :Business ;
    rdfs:range xsd:float .

:informs a owl:ObjectProperty ;
    rdfs:label "informs" ;
    rdfs:comment "Insight guides decision or process adjustment." ;
    rdfs:domain :Insight ;
    rdfs:range :BusinessProcess .

:insight_002 :hasText "Customers in cold climates prefer warm beverages in Q4." ;
    :informsBusiness :biz_001 ;
    :type :Insight .

:locatedIn a owl:ObjectProperty ;
    rdfs:label "located in" ;
    rdfs:comment "Business operates in geographic/industry market." ;
    rdfs:domain :Business ;
    rdfs:range :Market .

:new_insight_001 :hasText "This is a new insight." .

:operates a owl:ObjectProperty ;
    rdfs:label "operates" ;
    rdfs:comment "Business executes or manages process." ;
    rdfs:domain :Business ;
    rdfs:range :BusinessProcess .

:optimizes a owl:ObjectProperty ;
    rdfs:label "optimizes" ;
    rdfs:comment "Model improves efficiency or outcome of business process." ;
    rdfs:domain :ForecastModel ;
    rdfs:range :BusinessProcess .

:predicts a owl:ObjectProperty ;
    rdfs:label "predicts" ;
    rdfs:comment "Model generates predictions for time-series." ;
    rdfs:domain :ForecastModel ;
    rdfs:range :TimeSeries ;
    owl:inverseOf :forecastedBy .

:targets a owl:ObjectProperty ;
    rdfs:label "targets" ;
    rdfs:comment "Campaign focuses on specific client segment." ;
    rdfs:domain :OutreachCampaign ;
    rdfs:range :ClientSegment .

ns1:insight_002 ns1:hasText "Customers in cold climates prefer warm beverages in Q4." ;
    ns1:informsBusiness ns1:biz_001 ;
    ns1:type ns1:Insight .

:Client001 a :Client ;
    rdfs:label "Restaurant Partner A" ;
    :hasAcquisitionDate "2024-03-15"^^xsd:date ;
    :hasLifetimeValue 125000.0 ;
    core:hasDescription "Wholesale client for daily bread supply" .

:ClientSegment a owl:Class ;
    rdfs:label "Client Segment" ;
    rdfs:comment "Group of clients with shared characteristics (geographic, demographic, behavioral)." ;
    rdfs:subClassOf core:Concept .

:Dataset a owl:Class ;
    rdfs:label "Dataset" ;
    rdfs:comment "Collection of structured data for analysis or training." ;
    rdfs:subClassOf core:Concept .

:EmailCampaign_Spring a :OutreachCampaign ;
    rdfs:label "Spring 2025 Email Campaign" ;
    :hasBudget 5000.0 ;
    :hasConversionRate 0.12 ;
    core:hasDescription "Email outreach to local restaurants" .

:MilwaukeeMarket a :Market ;
    rdfs:label "Milwaukee, WI Market" ;
    core:hasDescription "Small business market in Milwaukee, Wisconsin" .

:TimeSeries_Revenue a :TimeSeries ;
    rdfs:label "Monthly Revenue Time Series" ;
    :belongsTo :SunshineBakery ;
    core:hasDescription "12-month revenue history for forecasting" .

:forecastedBy a owl:ObjectProperty ;
    rdfs:label "forecasted by" ;
    rdfs:comment "Time-series predicted by forecast model." ;
    rdfs:domain :TimeSeries ;
    rdfs:range :ForecastModel .

:generates a owl:ObjectProperty ;
    rdfs:label "generates" ;
    rdfs:comment "Client produces revenue stream (causal)." ;
    rdfs:domain :Client ;
    rdfs:range :RevenueStream .

:Market a owl:Class ;
    rdfs:label "Market" ;
    rdfs:comment "A geographic or industry market segment (substance)." ;
    rdfs:subClassOf core:Concept .

:SunshineBakery a :Business ;
    rdfs:label "Sunshine Bakery" ;
    :hasEmployeeCount 8 ;
    :hasIndustry "Bakery" ;
    :hasLocation "Milwaukee, WI" ;
    :hasRevenue 485000.0 ;
    :locatedIn :MilwaukeeMarket ;
    core:hasDescription "Family-owned bakery specializing in artisan breads" .

:BusinessProcess a owl:Class ;
    rdfs:label "Business Process" ;
    rdfs:comment "Operational workflow (process): inventory management, customer onboarding, etc." ;
    rdfs:subClassOf core:Action .

:Insight a owl:Class ;
    rdfs:label "Insight" ;
    rdfs:comment "Derived knowledge or recommendation from analysis. Informs decisions." ;
    rdfs:subClassOf core:Concept .

:LeveragePoint a owl:Class ;
    rdfs:label "Leverage Point" ;
    rdfs:comment "Strategic intervention point with high impact/cost ratio. Causal node for optimization." ;
    rdfs:subClassOf core:Concept .

:TimeSeries a owl:Class ;
    rdfs:label "Time Series" ;
    rdfs:comment "Sequential data points (revenue, traffic, etc.) indexed by time." ;
    rdfs:subClassOf core:Concept .

:OutreachCampaign a owl:Class ;
    rdfs:label "Outreach Campaign" ;
    rdfs:comment "Marketing or sales campaign (process): email, social, direct mail." ;
    rdfs:subClassOf core:Action .

:RevenueStream a owl:Class ;
    rdfs:label "Revenue Stream" ;
    rdfs:comment "Flow of revenue over time (process). Generated by clients, forecasted by models." ;
    rdfs:subClassOf core:Action .

:Client a owl:Class ;
    rdfs:label "Client" ;
    rdfs:comment "A customer or client entity (substance). Generates revenue, engaged by outreach campaigns." ;
    rdfs:subClassOf core:Concept .

:ForecastModel a owl:Class ;
    rdfs:label "Forecast Model" ;
    rdfs:comment "ML model (ARIMA, Prophet, neural net) that predicts time-series." ;
    rdfs:subClassOf core:Tool .

:Business a owl:Class ;
    rdfs:label "Business" ;
    rdfs:comment "A commercial enterprise (substance): bakery, cafe, retail store. Persistent entity with properties like revenue, location." ;
    rdfs:subClassOf core:Concept .

# --- Agent, Tool, and Capability Definitions ---

:Agent a owl:Class ;
    rdfs:label "Agent" ;
    rdfs:comment "An autonomous entity that can perform actions to achieve goals." ;
    rdfs:subClassOf core:Concept .

:Tool a owl:Class ;
    rdfs:label "Tool" ;
    rdfs:comment "A function or resource that can be used by an agent to perform a task." ;
    rdfs:subClassOf core:Concept .

:Capability a owl:Class ;
    rdfs:label "Capability" ;
    rdfs:comment "An abstract representation of an ability to perform a certain type of task." ;
    rdfs:subClassOf core:Concept .

:hasCapability a owl:ObjectProperty ;
    rdfs:label "has capability" ;
    rdfs:comment "Links an agent or tool to a capability it possesses." ;
    rdfs:domain [ owl:unionOf ( :Agent :Tool ) ] ;
    rdfs:range :Capability .

:canPerform a owl:ObjectProperty ;
    rdfs:label "can perform" ;
    rdfs:comment "Links an agent to a capability." ;
    rdfs:domain :Agent ;
    rdfs:range :Capability .

:requiresTool a owl:ObjectProperty ;
    rdfs:label "requires tool" ;
    rdfs:comment "Links a capability to a tool that is required to perform it." ;
    rdfs:domain :Capability ;
    rdfs:range :Tool .

# --- Capabilities ---

:CanPlan a :Capability ;
    rdfs:label "Can Plan" .

:CanForecast a :Capability ;
    rdfs:label "Can Forecast" ;
    :requiresTool :PredictTool .

:CanOptimize a :Capability ;
    rdfs:label "Can Optimize" ;
    :requiresTool :OptimizeTool .

# --- Tools ---

:PredictTool a :Tool ;
    rdfs:label "Predict Tool" .

:OptimizeTool a :Tool ;
    rdfs:label "Optimize Tool" .

# --- Agent Instances ---

:Planner a :Agent ;
    rdfs:label "Planner" ;
    :canPerform :CanPlan .

:Forecaster a :Agent ;
    rdfs:label "Forecaster" ;
    :canPerform :CanForecast .

:Optimizer a :Agent ;
    rdfs:label "Optimizer" ;
    :canPerform :CanOptimize .

# --- New Capability and Agent for Writing Code ---

:CanWriteCode a :Capability ;
    rdfs:label "Can Write Code" ;
    :requiresTool :GitHubTool .

:CodeWriter a :Agent ;
    rdfs:label "CodeWriter" ;
    :canPerform :CanWriteCode .

:GitHubTool a :Tool ;
    rdfs:label "GitHub Tool" .
