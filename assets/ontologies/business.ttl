@prefix : <http://agent_kit.io/business#> .
@prefix core: <http://agent_kit.io/ontology#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# ============================================================================
# Business Ontology: Small Business ML Optimization
# ============================================================================
# Metaphysical Grounding:
#   - Substances (persistent): Business, Client, Market
#   - Processes (temporal): OutreachCampaign, Forecasting, Optimization
#   - Causation (leverage): LeveragePoint, Insight
# ============================================================================

# Ontology Declaration
: a owl:Ontology ;
    rdfs:label "Agent Kit Business Ontology" ;
    rdfs:comment "Ontology for ML-driven small business optimization: entities, relations, leverage points for revenue and efficiency improvements." ;
    owl:versionInfo "0.1.0" ;
    owl:imports <http://agent_kit.io/ontology#> .

# ============================================================================
# CORE ENTITIES (Substances)
# ============================================================================

:Business a owl:Class ;
    rdfs:label "Business" ;
    rdfs:comment "A commercial enterprise (substance): bakery, cafe, retail store. Persistent entity with properties like revenue, location." ;
    rdfs:subClassOf core:Concept .

:Client a owl:Class ;
    rdfs:label "Client" ;
    rdfs:comment "A customer or client entity (substance). Generates revenue, engaged by outreach campaigns." ;
    rdfs:subClassOf core:Concept .

:Market a owl:Class ;
    rdfs:label "Market" ;
    rdfs:comment "A geographic or industry market segment (substance)." ;
    rdfs:subClassOf core:Concept .

# ============================================================================
# DATA & MODELS (Artifacts)
# ============================================================================

:TimeSeries a owl:Class ;
    rdfs:label "Time Series" ;
    rdfs:comment "Sequential data points (revenue, traffic, etc.) indexed by time." ;
    rdfs:subClassOf core:Concept .

:ForecastModel a owl:Class ;
    rdfs:label "Forecast Model" ;
    rdfs:comment "ML model (ARIMA, Prophet, neural net) that predicts time-series." ;
    rdfs:subClassOf core:Tool .

:Dataset a owl:Class ;
    rdfs:label "Dataset" ;
    rdfs:comment "Collection of structured data for analysis or training." ;
    rdfs:subClassOf core:Concept .

# ============================================================================
# PROCESSES (Temporal, Causal)
# ============================================================================

:RevenueStream a owl:Class ;
    rdfs:label "Revenue Stream" ;
    rdfs:comment "Flow of revenue over time (process). Generated by clients, forecasted by models." ;
    rdfs:subClassOf core:Action .

:OutreachCampaign a owl:Class ;
    rdfs:label "Outreach Campaign" ;
    rdfs:comment "Marketing or sales campaign (process): email, social, direct mail." ;
    rdfs:subClassOf core:Action .

:BusinessProcess a owl:Class ;
    rdfs:label "Business Process" ;
    rdfs:comment "Operational workflow (process): inventory management, customer onboarding, etc." ;
    rdfs:subClassOf core:Action .

:Optimization a owl:Class ;
    rdfs:label "Optimization" ;
    rdfs:comment "Process of improving business metrics (revenue, efficiency) via interventions." ;
    rdfs:subClassOf core:Action .

# ============================================================================
# STRATEGIC CONCEPTS
# ============================================================================

:LeveragePoint a owl:Class ;
    rdfs:label "Leverage Point" ;
    rdfs:comment "Strategic intervention point with high impact/cost ratio. Causal node for optimization." ;
    rdfs:subClassOf core:Concept .

:Insight a owl:Class ;
    rdfs:label "Insight" ;
    rdfs:comment "Derived knowledge or recommendation from analysis. Informs decisions." ;
    rdfs:subClassOf core:Concept .

:ClientSegment a owl:Class ;
    rdfs:label "Client Segment" ;
    rdfs:comment "Group of clients with shared characteristics (geographic, demographic, behavioral)." ;
    rdfs:subClassOf core:Concept .

# ============================================================================
# CAUSAL & LOGICAL RELATIONS
# ============================================================================

:generates a owl:ObjectProperty ;
    rdfs:label "generates" ;
    rdfs:domain :Client ;
    rdfs:range :RevenueStream ;
    rdfs:comment "Client produces revenue stream (causal)." .

:generatedBy a owl:ObjectProperty ;
    rdfs:label "generated by" ;
    owl:inverseOf :generates ;
    rdfs:domain :RevenueStream ;
    rdfs:range :Client ;
    rdfs:comment "Revenue stream originates from client (inverse of generates)." .

:forecastedBy a owl:ObjectProperty ;
    rdfs:label "forecasted by" ;
    rdfs:domain :TimeSeries ;
    rdfs:range :ForecastModel ;
    rdfs:comment "Time-series predicted by forecast model." .

:predicts a owl:ObjectProperty ;
    rdfs:label "predicts" ;
    owl:inverseOf :forecastedBy ;
    rdfs:domain :ForecastModel ;
    rdfs:range :TimeSeries ;
    rdfs:comment "Model generates predictions for time-series." .

:optimizes a owl:ObjectProperty ;
    rdfs:label "optimizes" ;
    rdfs:domain :ForecastModel ;
    rdfs:range :BusinessProcess ;
    rdfs:comment "Model improves efficiency or outcome of business process." .

:targets a owl:ObjectProperty ;
    rdfs:label "targets" ;
    rdfs:domain :OutreachCampaign ;
    rdfs:range :ClientSegment ;
    rdfs:comment "Campaign focuses on specific client segment." .

:engagedBy a owl:ObjectProperty ;
    rdfs:label "engaged by" ;
    rdfs:domain :Client ;
    rdfs:range :OutreachCampaign ;
    rdfs:comment "Client interacted with via campaign." .

:affects a owl:ObjectProperty ;
    rdfs:label "affects" ;
    rdfs:domain :LeveragePoint ;
    rdfs:range :Business ;
    rdfs:comment "Leverage point impacts business metric (revenue, efficiency)." .

:derivedFrom a owl:ObjectProperty ;
    rdfs:label "derived from" ;
    rdfs:domain :Insight ;
    rdfs:range :Dataset ;
    rdfs:comment "Insight extracted from dataset or analysis." .

:informs a owl:ObjectProperty ;
    rdfs:label "informs" ;
    rdfs:domain :Insight ;
    rdfs:range :BusinessProcess ;
    rdfs:comment "Insight guides decision or process adjustment." .

:belongsTo a owl:ObjectProperty ;
    rdfs:label "belongs to" ;
    rdfs:domain :TimeSeries ;
    rdfs:range :Business ;
    rdfs:comment "Time-series data owned by or associated with business." .

:operates a owl:ObjectProperty ;
    rdfs:label "operates" ;
    rdfs:domain :Business ;
    rdfs:range :BusinessProcess ;
    rdfs:comment "Business executes or manages process." .

:locatedIn a owl:ObjectProperty ;
    rdfs:label "located in" ;
    rdfs:domain :Business ;
    rdfs:range :Market ;
    rdfs:comment "Business operates in geographic/industry market." .

# ============================================================================
# DATATYPE PROPERTIES (Measurable Attributes)
# ============================================================================

:hasRevenue a owl:DatatypeProperty ;
    rdfs:label "has revenue" ;
    rdfs:domain :Business ;
    rdfs:range xsd:float ;
    rdfs:comment "Annual revenue in USD." .

:hasEmployeeCount a owl:DatatypeProperty ;
    rdfs:label "has employee count" ;
    rdfs:domain :Business ;
    rdfs:range xsd:integer ;
    rdfs:comment "Number of employees." .

:hasIndustry a owl:DatatypeProperty ;
    rdfs:label "has industry" ;
    rdfs:domain :Business ;
    rdfs:range xsd:string ;
    rdfs:comment "Industry classification (e.g., Bakery, Cafe, Retail)." .

:hasLocation a owl:DatatypeProperty ;
    rdfs:label "has location" ;
    rdfs:domain :Business ;
    rdfs:range xsd:string ;
    rdfs:comment "Geographic location (city, state)." .

:hasLifetimeValue a owl:DatatypeProperty ;
    rdfs:label "has lifetime value" ;
    rdfs:domain :Client ;
    rdfs:range xsd:float ;
    rdfs:comment "Customer lifetime value (CLV) in USD." .

:hasAcquisitionDate a owl:DatatypeProperty ;
    rdfs:label "has acquisition date" ;
    rdfs:domain :Client ;
    rdfs:range xsd:date ;
    rdfs:comment "Date client was acquired." .

:hasAmount a owl:DatatypeProperty ;
    rdfs:label "has amount" ;
    rdfs:domain :RevenueStream ;
    rdfs:range xsd:float ;
    rdfs:comment "Revenue amount in USD for period." .

:hasForecastConfidence a owl:DatatypeProperty ;
    rdfs:label "has forecast confidence" ;
    rdfs:domain :RevenueStream ;
    rdfs:range xsd:float ;
    rdfs:comment "Confidence score (0-1) for forecast." .

:hasModelType a owl:DatatypeProperty ;
    rdfs:label "has model type" ;
    rdfs:domain :ForecastModel ;
    rdfs:range xsd:string ;
    rdfs:comment "Type of model (ARIMA, Prophet, NeuralNet)." .

:hasAccuracyScore a owl:DatatypeProperty ;
    rdfs:label "has accuracy score" ;
    rdfs:domain :ForecastModel ;
    rdfs:range xsd:float ;
    rdfs:comment "Model accuracy (MAPE, RMSE, RÂ²)." .

:hasConversionRate a owl:DatatypeProperty ;
    rdfs:label "has conversion rate" ;
    rdfs:domain :OutreachCampaign ;
    rdfs:range xsd:float ;
    rdfs:comment "Percentage of targets converted to clients." .

:hasBudget a owl:DatatypeProperty ;
    rdfs:label "has budget" ;
    rdfs:domain :OutreachCampaign ;
    rdfs:range xsd:float ;
    rdfs:comment "Campaign budget in USD." .

:hasExpectedImpact a owl:DatatypeProperty ;
    rdfs:label "has expected impact" ;
    rdfs:domain :LeveragePoint ;
    rdfs:range xsd:float ;
    rdfs:comment "Expected ROI or percentage change in target metric." .

:hasPriority a owl:DatatypeProperty ;
    rdfs:label "has priority" ;
    rdfs:domain :LeveragePoint ;
    rdfs:range xsd:integer ;
    rdfs:comment "Priority rank (1=highest)." .

# ============================================================================
# EXAMPLE INSTANCES (Synthetic Small Businesses)
# ============================================================================

# Market
:MilwaukeeMarket a :Market ;
    rdfs:label "Milwaukee, WI Market" ;
    core:hasDescription "Small business market in Milwaukee, Wisconsin" .

# Business 1: Bakery
:SunshineBakery a :Business ;
    rdfs:label "Sunshine Bakery" ;
    :hasRevenue 485000.0 ;
    :hasEmployeeCount 8 ;
    :hasIndustry "Bakery" ;
    :hasLocation "Milwaukee, WI" ;
    :locatedIn :MilwaukeeMarket ;
    core:hasDescription "Family-owned bakery specializing in artisan breads" .

# Client
:Client001 a :Client ;
    rdfs:label "Restaurant Partner A" ;
    :hasLifetimeValue 125000.0 ;
    :hasAcquisitionDate "2024-03-15"^^xsd:date ;
    core:hasDescription "Wholesale client for daily bread supply" .

# Revenue Stream
:Revenue_Q12025 a :RevenueStream ;
    rdfs:label "Q1 2025 Revenue" ;
    :generatedBy :Client001 ;
    :hasAmount 32000.0 ;
    :hasForecastConfidence 0.87 ;
    core:hasDescription "First quarter revenue from Client001" .

# Time Series
:TimeSeries_Revenue a :TimeSeries ;
    rdfs:label "Monthly Revenue Time Series" ;
    :belongsTo :SunshineBakery ;
    core:hasDescription "12-month revenue history for forecasting" .

# Forecast Model
:ARIMAModel_Revenue a :ForecastModel ;
    rdfs:label "ARIMA Revenue Forecast" ;
    :hasModelType "ARIMA(2,1,2)" ;
    :hasAccuracyScore 0.89 ;
    :predicts :TimeSeries_Revenue ;
    core:hasDescription "Seasonal ARIMA model for revenue prediction" .

# Outreach Campaign
:EmailCampaign_Spring a :OutreachCampaign ;
    rdfs:label "Spring 2025 Email Campaign" ;
    :hasBudget 5000.0 ;
    :hasConversionRate 0.12 ;
    core:hasDescription "Email outreach to local restaurants" .

# Leverage Point
:Lever_EmailOptimization a :LeveragePoint ;
    rdfs:label "Email Timing Optimization" ;
    :affects :SunshineBakery ;
    :hasExpectedImpact 1.25 ;
    :hasPriority 1 ;
    core:hasCost 500.0 ;
    core:hasDescription "Optimize email send times based on open rate analysis (ROI: 1.25x)" .

# Insight
:Insight_ClientSegmentation a :Insight ;
    rdfs:label "High-Value Restaurant Segment" ;
    :informs :EmailCampaign_Spring ;
    core:hasConfidence 0.91 ;
    core:hasDescription "Restaurants with >$100K annual spend respond 3x better to morning emails" .

